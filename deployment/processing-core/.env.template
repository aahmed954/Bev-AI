# =====================================================
# BEV OSINT Framework - Processing Core Node
# Environment Configuration Template
# =====================================================

# Copy this file to .env and configure the values below
# This node requires connections to:
# - Data Core node (databases)
# - Message Infrastructure node (RabbitMQ)

# =====================================================
# DOMAIN AND BASIC CONFIGURATION
# =====================================================

# Domain name for the deployment
DOMAIN_NAME=localhost

# Django secret key (generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())')
DJANGO_SECRET_KEY=your-very-secure-django-secret-key-here-change-this

# Django debug mode (set to False in production)
DJANGO_DEBUG=False

# Allowed hosts for Django (comma-separated)
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# CORS origin for Cytoscape server
CORS_ORIGIN=http://localhost

# =====================================================
# DATA CORE NODE CONNECTIONS
# =====================================================

# PostgreSQL Database (Data Core Node)
DATA_CORE_POSTGRES_HOST=192.168.1.100
DATA_CORE_POSTGRES_PORT=5432
DATA_CORE_POSTGRES_USER=bev_admin
DATA_CORE_POSTGRES_PASSWORD=your-postgres-password

# IntelOwl specific database
INTELOWL_POSTGRES_DB=intelowl
INTELOWL_POSTGRES_USER=intelowl_user
INTELOWL_POSTGRES_PASSWORD=your-intelowl-db-password

# Redis Cache (Data Core Node)
DATA_CORE_REDIS_HOST=192.168.1.100
DATA_CORE_REDIS_PORT=6379
DATA_CORE_REDIS_PASSWORD=your-redis-password

# Neo4j Graph Database (Data Core Node)
DATA_CORE_NEO4J_URI=bolt://192.168.1.100:7687
DATA_CORE_NEO4J_USER=neo4j
DATA_CORE_NEO4J_PASSWORD=your-neo4j-password

# Elasticsearch (Data Core Node)
DATA_CORE_ELASTICSEARCH_HOST=192.168.1.100
DATA_CORE_ELASTICSEARCH_PORT=9200

# Main PostgreSQL for MCP Server (Data Core Node)
POSTGRES_DB=osint
POSTGRES_USER=bev_admin
POSTGRES_PASSWORD=your-postgres-password

# =====================================================
# MESSAGE INFRASTRUCTURE NODE CONNECTIONS
# =====================================================

# RabbitMQ Message Broker (Message Infrastructure Node)
MSG_RABBITMQ_HOST=192.168.1.101
MSG_RABBITMQ_PORT=5672
MSG_RABBITMQ_USER=bev_rabbit
MSG_RABBITMQ_PASSWORD=your-rabbitmq-password

# =====================================================
# PROCESSING CORE CONFIGURATION
# =====================================================

# Port Configuration
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
INTELOWL_DJANGO_PORT=8000
CYTOSCAPE_PORT=3000
MCP_SERVER_PORT=3010

# Worker Configuration
WORKERS=4
THREADS_PER_WORKER=4
REQUEST_TIMEOUT=300

# Celery Configuration
CELERY_WORKERS=8
CELERY_MAX_TASKS=100
CELERY_WORKER_REPLICAS=2

# =====================================================
# SECURITY CONFIGURATION
# =====================================================

# IntelOwl Security (set to False for production)
DISABLE_AUTH_CHECKS=True
DISABLE_PERM_CHECKS=True
DISABLE_THROTTLING=True

# MCP Server Security
JWT_SECRET=your-very-secure-jwt-secret-key-change-this
DATA_ENCRYPTION_KEY=your-32-char-encryption-key-here
API_RATE_LIMIT=100
API_RATE_WINDOW=60
ALLOWED_NETWORKS=172.20.0.0/16,127.0.0.1/32

# Session and Security Settings
SESSION_TIMEOUT=3600
JWT_EXPIRY_HOURS=24
PASSWORD_MIN_LENGTH=12
MAX_REQUEST_SIZE=10000000

# Database Connection Pools
POSTGRES_MIN_CONNECTIONS=5
POSTGRES_MAX_CONNECTIONS=20
REDIS_MAX_CONNECTIONS=20
CONNECTION_TIMEOUT=30
QUERY_TIMEOUT=300

# =====================================================
# PROXY CONFIGURATION (OPTIONAL)
# =====================================================

# Tor proxy (if using Tor from infrastructure node)
# TOR_PROXY=socks5://192.168.1.102:9050

# =====================================================
# OSINT API KEYS
# =====================================================

# Shodan API Key
SHODAN_API_KEY=your-shodan-api-key

# VirusTotal API Key
VIRUSTOTAL_API_KEY=your-virustotal-api-key

# DeHashed API Credentials
DEHASHED_API_KEY=your-dehashed-api-key
DEHASHED_EMAIL=your-dehashed-email

# SNUSBase API Key
SNUSBASE_API_KEY=your-snusbase-api-key

# WeLeakInfo API Key
WELEAKINFO_API_KEY=your-weleakinfo-api-key

# =====================================================
# LOGGING CONFIGURATION
# =====================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Audit log retention (days)
AUDIT_LOG_RETENTION_DAYS=90

# =====================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =====================================================

# Development Environment Example:
# DATA_CORE_POSTGRES_HOST=localhost
# DATA_CORE_REDIS_HOST=localhost
# DATA_CORE_NEO4J_URI=bolt://localhost:7687
# MSG_RABBITMQ_HOST=localhost
# DJANGO_DEBUG=True
# WORKERS=2
# CELERY_WORKERS=4

# Production Environment Example:
# DATA_CORE_POSTGRES_HOST=data-core.internal.company.com
# DATA_CORE_REDIS_HOST=data-core.internal.company.com
# DATA_CORE_NEO4J_URI=bolt://data-core.internal.company.com:7687
# MSG_RABBITMQ_HOST=messaging.internal.company.com
# DJANGO_DEBUG=False
# WORKERS=8
# CELERY_WORKERS=16

# =====================================================
# RESOURCE LIMITS (Docker Compose Deploy Section)
# =====================================================

# These are configured in docker-compose.yml but can be overridden
# if using Docker Swarm or Kubernetes

# IntelOwl Django: 4G memory, 2 CPU cores
# Celery Workers: 6G memory, 3 CPU cores (per replica)
# Celery Beat: 1G memory, 0.5 CPU cores
# Nginx: 512M memory, 0.5 CPU cores
# Cytoscape Server: 2G memory, 1 CPU core
# MCP Server: 2G memory, 1 CPU core

# Total Recommended Resources:
# Memory: 16+ GB RAM
# CPU: 8+ cores
# Storage: 50+ GB for logs and temporary files