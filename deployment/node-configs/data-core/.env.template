# BEV OSINT Framework - Data Core Node Environment Configuration
# Copy this file to .env and configure with your specific values

# ===========================================
# NODE CONFIGURATION
# ===========================================
BEV_NODE_TYPE=data-core
BEV_NODE_ID=data-core-01
BEV_CLUSTER_NAME=bev-osint-cluster
BEV_DEPLOYMENT_ENV=production

# ===========================================
# POSTGRESQL CONFIGURATION
# ===========================================
POSTGRES_USER=researcher
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_DB=osint
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# PostgreSQL Performance Tuning
POSTGRES_MAX_CONNECTIONS=500
POSTGRES_SHARED_BUFFERS=2GB
POSTGRES_EFFECTIVE_CACHE_SIZE=6GB
POSTGRES_MAINTENANCE_WORK_MEM=512MB
POSTGRES_WORK_MEM=32MB

# ===========================================
# NEO4J CONFIGURATION
# ===========================================
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_secure_neo4j_password_here
NEO4J_DATABASE=bev_graph

# Neo4j Memory Settings
NEO4J_HEAP_INITIAL_SIZE=2G
NEO4J_HEAP_MAX_SIZE=4G
NEO4J_PAGECACHE_SIZE=2G

# ===========================================
# REDIS CLUSTER CONFIGURATION
# ===========================================
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_CLUSTER_NODES=172.30.0.4:7001,172.30.0.5:7002,172.30.0.6:7003
REDIS_MAX_MEMORY=2gb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# ===========================================
# INFLUXDB CONFIGURATION
# ===========================================
INFLUXDB_USER=bev_admin
INFLUXDB_PASSWORD=your_secure_influxdb_password_here
INFLUXDB_ORG=bev_osint
INFLUXDB_BUCKET=metrics
INFLUXDB_TOKEN=your_influxdb_admin_token_here

# ===========================================
# CLUSTER COORDINATION
# ===========================================
# Other node endpoints (configured during deployment)
DATA_ANALYTICS_HOST=data-analytics.bev.local
MESSAGE_INFRASTRUCTURE_HOST=message-infra.bev.local
PROCESSING_CORE_HOST=processing-core.bev.local
INFRASTRUCTURE_MONITORING_HOST=infra-monitor.bev.local

# ===========================================
# NETWORK CONFIGURATION
# ===========================================
# Network subnet for this node
NODE_SUBNET=172.30.0.0/16
NODE_GATEWAY=172.30.0.1

# External access configuration
POSTGRES_EXTERNAL_PORT=5432
NEO4J_HTTP_EXTERNAL_PORT=7474
NEO4J_BOLT_EXTERNAL_PORT=7687
REDIS_EXTERNAL_PORTS=7001,7002,7003
INFLUXDB_EXTERNAL_PORT=8086

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# TLS/SSL Configuration
TLS_ENABLED=true
TLS_CERT_PATH=./certs/data-core.crt
TLS_KEY_PATH=./certs/data-core.key
TLS_CA_PATH=./certs/ca.crt

# Inter-node authentication
NODE_AUTH_TOKEN=your_cluster_auth_token_here
NODE_CERT_PATH=./certs/node.crt
NODE_KEY_PATH=./certs/node.key

# ===========================================
# MONITORING CONFIGURATION
# ===========================================
# Metrics collection
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s

# Log levels
LOG_LEVEL=INFO
POSTGRES_LOG_LEVEL=INFO
NEO4J_LOG_LEVEL=INFO
REDIS_LOG_LEVEL=NOTICE
INFLUXDB_LOG_LEVEL=info

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Remote backup (optional)
REMOTE_BACKUP_ENABLED=false
REMOTE_BACKUP_S3_BUCKET=bev-osint-backups
REMOTE_BACKUP_S3_REGION=us-east-1

# ===========================================
# PERFORMANCE MONITORING
# ===========================================
# Resource monitoring
MEMORY_ALERT_THRESHOLD=85
DISK_ALERT_THRESHOLD=80
CPU_ALERT_THRESHOLD=90

# Database performance monitoring
PG_STAT_STATEMENTS_ENABLED=true
NEO4J_METRICS_ENABLED=true
REDIS_METRICS_ENABLED=true

# ===========================================
# DEVELOPMENT/DEBUG (disable in production)
# ===========================================
DEBUG_MODE=false
VERBOSE_LOGGING=false
DEVELOPMENT_MODE=false

# Container resource limits (adjust based on your hardware)
POSTGRES_MEMORY_LIMIT=8g
NEO4J_MEMORY_LIMIT=6g
REDIS_MEMORY_LIMIT=2g
INFLUXDB_MEMORY_LIMIT=2g